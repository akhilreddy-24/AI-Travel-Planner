const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for Location : Las Vegas, NV, USA, for 3 Days and 2 Night for Just Me with a Moderate budget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, Hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placename, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for {totalDays} days and {totalNight} nights with each day plan with best time to visit in JSON format.\n"},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas, NV, USA\",\n    \"duration\": {\n      \"days\": 3,\n      \"nights\": 2\n    },\n    \"budget\": \"Moderate\",\n    \"flight\": {\n      \"details\": \"Roundtrip flight from [Your Departure City] to Las Vegas McCarran International Airport (LAS)\",\n      \"price\": \"[$150 - $300]\",\n      \"bookingUrl\": \"https://www.google.com/flights\"\n    },\n    \"hotels\": [\n      {\n        \"name\": \"The Cosmopolitan of Las Vegas\",\n        \"address\": \"3708 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"$200 - $400 per night\",\n        \"imageUrl\": \"https://images.trvl-media.com/media/content/hotels/243942/1/243942_1_a.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1037,\n          \"longitude\": -115.1725\n        },\n        \"rating\": 4.5,\n        \"description\": \"A luxury hotel with a modern design, vibrant nightlife, and stunning views of the Strip.\"\n      },\n      {\n        \"name\": \"The Venetian Resort Las Vegas\",\n        \"address\": \"3355 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"$150 - $350 per night\",\n        \"imageUrl\": \"https://images.trvl-media.com/media/content/hotels/140676/1/140676_1_a.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1008,\n          \"longitude\": -115.1737\n        },\n        \"rating\": 4.0,\n        \"description\": \"A grand hotel with a Venetian-themed atmosphere, multiple restaurants, and a casino.\"\n      },\n      {\n        \"name\": \"The Wynn Las Vegas\",\n        \"address\": \"3131 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"$250 - $500 per night\",\n        \"imageUrl\": \"https://images.trvl-media.com/media/content/hotels/47670/1/47670_1_a.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1102,\n          \"longitude\": -115.1727\n        },\n        \"rating\": 4.5,\n        \"description\": \"A luxurious resort with world-class dining, spa services, and a renowned golf course.\"\n      }\n    ],\n    \"dayPlans\": [\n      {\n        \"day\": 1,\n        \"schedule\": [\n          {\n            \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n            \"activity\": \"Visit the Bellagio Conservatory & Botanical Garden\",\n            \"details\": \"Explore the stunning seasonal displays of flowers and plants.\",\n            \"imageUrl\": \"https://www.bellagio.com/content/dam/bellagio/en/images/conservatory/2023/2023-summer-conservatory-01.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1016,\n              \"longitude\": -115.1741\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"1-2 hours\"\n          },\n          {\n            \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n            \"activity\": \"Explore the High Roller Observation Wheel\",\n            \"details\": \"Enjoy panoramic views of the Las Vegas Strip from the world's tallest observation wheel.\",\n            \"imageUrl\": \"https://www.linq.com/content/dam/linq/media/attractions/highroller/images/High-Roller-View-Las-Vegas.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.0994,\n              \"longitude\": -115.1723\n            },\n            \"ticketPricing\": \"$35 - $50\",\n            \"timeToTravel\": \"1-2 hours\"\n          },\n          {\n            \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n            \"activity\": \"Enjoy dinner and a show at the Wynn Las Vegas\",\n            \"details\": \"Experience the world-class dining and entertainment options at the Wynn.\",\n            \"imageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynn/en/media/wynn-las-vegas/dining/restaurants/wynn-restaurant-experiences/wing-lei.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1102,\n              \"longitude\": -115.1727\n            },\n            \"ticketPricing\": \"Varies depending on the show and restaurant\",\n            \"timeToTravel\": \"2-3 hours\"\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"schedule\": [\n          {\n            \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n            \"activity\": \"Visit the Neon Museum\",\n            \"details\": \"Discover the history of Las Vegas through its iconic neon signs.\",\n            \"imageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2021/04/Neon-Museum-Sign-Park-Front-View.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1628,\n              \"longitude\": -115.1430\n            },\n            \"ticketPricing\": \"$25 - $35\",\n            \"timeToTravel\": \"1-2 hours\"\n          },\n          {\n            \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n            \"activity\": \"Explore the Las Vegas Strip\",\n            \"details\": \"Walk along the Strip, admire the extravagant hotels, and try your luck at the casinos.\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Las_Vegas_Strip_panorama.jpg/1200px-Las_Vegas_Strip_panorama.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1076,\n              \"longitude\": -115.1728\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"2-3 hours\"\n          },\n          {\n            \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n            \"activity\": \"Enjoy a buffet dinner at the Caesars Palace\",\n            \"details\": \"Indulge in a lavish buffet experience with a wide variety of cuisines.\",\n            \"imageUrl\": \"https://www.caesars.com/content/dam/caesars/images/restaurants/bacchanal/bacchanal-buffet-1200x675.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1089,\n              \"longitude\": -115.1747\n            },\n            \"ticketPricing\": \"$50 - $70\",\n            \"timeToTravel\": \"2-3 hours\"\n          }\n        ]\n      },\n      {\n        \"day\": 3,\n        \"schedule\": [\n          {\n            \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n            \"activity\": \"Visit the Las Vegas Natural History Museum\",\n            \"details\": \"Learn about the natural history and geology of the region.\",\n            \"imageUrl\": \"https://www.lasvegasnaturalhistory.org/assets/images/museum/museum-exterior.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1644,\n              \"longitude\": -115.1458\n            },\n            \"ticketPricing\": \"$15 - $20\",\n            \"timeToTravel\": \"1-2 hours\"\n          },\n          {\n            \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n            \"activity\": \"Explore the Fremont Street Experience\",\n            \"details\": \"Experience the vibrant atmosphere of Fremont Street, with its iconic canopy of lights and street performers.\",\n            \"imageUrl\": \"https://www.fremontstreetexperience.com/media/images/hero-banners/banner-image-fsx.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1695,\n              \"longitude\": -115.1426\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"1-2 hours\"\n          },\n          {\n            \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n            \"activity\": \"Enjoy a farewell dinner at a rooftop restaurant\",\n            \"details\": \"Savor a delicious meal with stunning views of the city.\",\n            \"imageUrl\": \"https://www.rooftoplasvegas.com/wp-content/uploads/2020/03/Skyfall-Lounge-Las-Vegas-Rooftop-Bar-Dinner.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1073,\n              \"longitude\": -115.1719\n            },\n            \"ticketPricing\": \"Varies depending on the restaurant\",\n            \"timeToTravel\": \"2-3 hours\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Note:** This is just a sample travel plan. You can customize it based on your interests and preferences. For example, you can add more attractions, adjust the budget, and choose different hotels. \n\nAlso, remember to book your flights and hotels in advance, especially if you're traveling during peak season. \n"},
            ],
          },
      ],
    });
